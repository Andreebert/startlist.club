@using FlightJournal.Web.Controllers
@model IEnumerable<FlightJournal.Web.Models.Club>
@using (Html.BeginForm("SetCurrentClub", "Club", FormMethod.Post))
{
    if (ClubController.CurrentClub == null)
    {
        <p>Alle registrerede flyvninger vises, du kan filtrere på hvilken klub som fremvises ved at filtrere på klubbens aktiviteter via listen i bunden af siderne.</p>
    }
    else
    {
        <p>@ClubController.CurrentClub.Name er valgt, de viste flyvninger og summeringer er på baggrund af klubbens piloter og hjemmeflyveplads.</p>
        <p>
            <a href="@ClubController.CurrentClub.Website">@ClubController.CurrentClub.Website</a>
        </p>
        <p>
            @if (ClubController.CurrentClub.ContactInformation != null)
            {
                <span>Kontakt: @ClubController.CurrentClub.ContactInformation</span>
            }
            @if (ClubController.CurrentClub.Pilots != null)
            {
                <br /><span>Klubben har @ClubController.CurrentClub.Pilots.Count registrerede piloter.</span>
            }
        </p>
    }
}>
    
    <select name="shortName" onchange="submit()" class="btn btn-default btn-xs">
        <option value="">Vælg Flyveklub (viser lige nu fælleslisten)</option>
        @foreach (var item in Model)
        {
            <option value="@Html.DisplayFor(modelItem => item.ShortName)" @{
            if (ClubController.CurrentClub.ShortName == item.ShortName)
            {
                <text>selected</text>
            }}>
                @Html.DisplayFor(modelItem => item.Name)
            </option>
        }
    </select>
}